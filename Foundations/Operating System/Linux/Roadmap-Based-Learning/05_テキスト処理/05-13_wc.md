# 【Linux講座】wcコマンド

## 概要
wcコマンドはLinuxで行数、単語数、バイト数を素早くカウントするためのツールで、テキスト処理やシェルスクリプトでよく使用されます。

## 主要概念
wcコマンド（word countの略）は、ファイルや標準入力のテキストデータに含まれる行数、単語数、バイト数を表示します。

## 実践コマンド例

### 1. 基本的な使用方法

まずはテスト用のテキストファイルを作成しましょう：

```bash
echo -e "これは1行目です。\nこれは2行目です。\nこれは3行目です。" > test.txt
```

このコマンドを入力して実行してみましょう。このコマンドは`test.txt`というファイルを作成し、3行のテキストを書き込みます。

次に、wcコマンドの基本形を実行してみましょう：

```bash
wc test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されるはずです：

```
 3  6 60 test.txt
```

この出力は、左から順に：
- 3 - ファイル内の行数
- 6 - ファイル内の単語数
- 60 - ファイル内のバイト数（文字コードによって異なります）
- test.txt - ファイル名

を示しています。

### 2. 行数だけをカウントする

特定の情報だけを表示したい場合は、オプションを使用します。行数だけを表示するには：

```bash
wc -l test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
3 test.txt
```

`-l`オプションを使うことで、行数のみが表示されました。

### 3. 単語数だけをカウントする

```bash
wc -w test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
6 test.txt
```

`-w`オプションを使うことで、単語数のみが表示されました。

### 4. バイト数だけをカウントする

```bash
wc -c test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
60 test.txt
```

`-c`オプションを使うことで、バイト数のみが表示されました。

### 5. 文字数をカウントする（マルチバイト文字に対応）

```bash
wc -m test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
42 test.txt
```

`-m`オプションを使うことで、文字数が表示されました。日本語などのマルチバイト文字を使用している場合、バイト数（`-c`）と文字数（`-m`）は異なる値になります。

### 6. 複数のファイルを同時にカウントする

別のテストファイルも作成してみましょう：

```bash
echo -e "これは別のファイルです。\n2行あります。" > test2.txt
```

このコマンドを入力して実行してみましょう。2行のテキストを含む`test2.txt`というファイルが作成されます。

次に、複数のファイルを一度にカウントします：

```bash
wc test.txt test2.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
 3  6 60 test.txt
 2  4 44 test2.txt
 5 10 104 合計
```

各ファイルの情報と合計が表示されました。

### 7. パイプラインでの使用

wcコマンドは、他のコマンドの出力結果を受け取って処理することもできます：

```bash
ls -l | wc -l
```

このコマンドを入力して実行してみましょう。結果は、カレントディレクトリ内のファイルとディレクトリの数（正確には`ls -l`の出力行数）を表示します。実際の数値は環境によって異なります。

### 8. 特定のパターンに一致する行をカウントする

`grep`コマンドと組み合わせて、特定のパターンに一致する行の数をカウントできます：

```bash
grep "これは" test.txt | wc -l
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
3
```

この結果は、`test.txt`ファイル内で「これは」という文字列を含む行の数を表しています。

### 9. ファイル名を表示せずに結果だけを表示する

```bash
wc -l < test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
3
```

リダイレクト（`<`）を使うことで、ファイル名が表示されず、カウント結果だけが表示されます。

### 10. 複数のオプションを組み合わせる

複数のオプションを組み合わせることもできます：

```bash
wc -lw test.txt
```

このコマンドを入力して実行してみましょう。以下のような出力が表示されます：

```
3 6 test.txt
```

`-lw`オプションを使うことで、行数と単語数が表示されました。
