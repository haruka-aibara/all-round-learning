# Linuxコマンドパスの基本

## 概要
コマンドパスはシェルがコマンド実行ファイルを探す場所を定義するもので、Linuxコマンドライン操作の効率を大幅に向上させます。

## 基本概念
シェルはコマンド入力時に$PATH環境変数に登録された各ディレクトリを順番に検索し、最初に見つかった実行ファイルを実行します。

## 実践ステップ

### 1. 現在のPATH環境変数を確認する

以下のコマンドを入力して実行してみましょう：

```bash
echo $PATH
```

実行結果例：
```
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/games:/usr/games
```

これは、シェルがコマンドを探す順番にディレクトリが表示されています。コロン（:）で区切られた各ディレクトリをシェルが左から順に検索します。

### 2. コマンドの実際の場所を調べる

以下のコマンドを入力して実行してみましょう：

```bash
which ls
```

実行結果例：
```
/usr/bin/ls
```

「ls」コマンドの実行ファイルがどこにあるかが表示されました。これにより、そのコマンドが$PATHのどのディレクトリから実行されているかが分かります。

### 3. すべての同名コマンドの場所を確認する

以下のコマンドを入力して実行してみましょう：

```bash
which -a python
```

実行結果例：
```
/usr/bin/python
/usr/local/bin/python
```

`-a`オプションを使うことで、$PATH内にある同じ名前のすべての実行ファイルを表示します。この例では「python」という名前の実行ファイルが複数のディレクトリに存在することが分かります。

### 4. コマンドのフルパスを使って実行する

以下のコマンドを入力して実行してみましょう：

```bash
/usr/bin/ls -la
```

実行結果例：
```
total 123456
drwxr-xr-x  5 user user     4096 Apr 20 10:30 .
drwxr-xr-x 23 user user     4096 Apr 19 08:45 ..
-rw-r--r--  1 user user      220 Apr 18 15:20 .bash_logout
-rw-r--r--  1 user user     3771 Apr 18 15:20 .bashrc
drwxr-xr-x  2 user user     4096 Apr 18 15:22 Downloads
```

この方法ではコマンドのフルパスを直接指定して実行しています。$PATHを使わなくても絶対パスでコマンドを実行できることが分かります。

### 5. 一時的にPATHを変更する

以下のコマンドを入力して実行してみましょう：

```bash
PATH=$PATH:$HOME/bin
echo $PATH
```

実行結果例：
```
/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/games:/usr/games:/home/user/bin
```

このコマンドでは、現在のPATHの末尾にホームディレクトリの下にある「bin」ディレクトリを追加しました。これにより、そのディレクトリ内のプログラムもコマンドとして実行できるようになります。ただし、この変更はターミナルセッション中のみ有効です。

### 6. PATHにないコマンドを実行する

以下のコマンドを入力して実行してみましょう：

```bash
./script.sh
```

実行結果例：
```
bash: ./script.sh: Permission denied
```

カレントディレクトリ（./）にあるスクリプトを実行しようとしましたが、実行権限がないとエラーになります。その場合は以下のコマンドで実行権限を付与します：

```bash
chmod +x script.sh
./script.sh
```

実行結果例：
```
Hello, World!
```

カレントディレクトリはデフォルトでは$PATHに含まれていないため、実行するには「./」を付ける必要があります。
