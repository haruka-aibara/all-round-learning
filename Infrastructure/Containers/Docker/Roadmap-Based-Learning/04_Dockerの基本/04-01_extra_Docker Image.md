# Dockerイメージ

## 概要
Dockerイメージはコンテナを作成するための読み取り専用のテンプレートであり、アプリケーションの実行に必要なすべての要素をパッケージ化します。

## 理論的説明
Dockerイメージは複数の読み取り専用レイヤーで構成され、ファイルシステムやメタデータを含む不変なスナップショットです。

## Dockerイメージとは

Dockerイメージは以下の特徴を持ちます：

1. **定義**：アプリケーションコード、ランタイム、システムツール、ライブラリなど、コンテナの実行に必要なすべての要素を含む軽量なパッケージです。

2. **構造**：
   - 基本となるベースイメージ（例：Ubuntu, Alpine）からスタート
   - 追加されるレイヤーは読み取り専用で積み重なる形で構成
   - 各レイヤーは前のレイヤーからの差分のみを保存

3. **イメージの作成方法**：
   - Dockerfileからビルド
   - 既存のコンテナからコミット
   - Docker Hub等のレジストリからプル

4. **命名規則**：
   - `名前:タグ`の形式（例：`nginx:latest`）
   - タグを省略した場合は自動的に`latest`が適用

5. **イメージID**：
   - 各イメージには一意のSHA256ハッシュIDが割り当てられる
   - `docker images`コマンドで確認可能

6. **レイヤー構造の利点**：
   - ストレージ効率の向上（共通レイヤーの再利用）
   - ビルド時間の短縮
   - ネットワーク転送の効率化

7. **イメージサイズの最適化**：
   - 軽量なベースイメージの使用（Alpine等）
   - マルチステージビルドの活用
   - 不要なファイルの削除

8. **セキュリティ**：
   - イメージは不変（実行時に変更されない）
   - 脆弱性スキャンツールでの検査が可能
