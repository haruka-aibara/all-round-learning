# 辞書（Dictionary）

## 概要
辞書はPythonの重要なデータ構造で、キーと値のペアを格納する変更可能なコレクションです。

## 主要概念
辞書はキーと値の組み合わせを格納し、キーを使って値を素早く検索できる効率的なデータ構造です。

## 実践コード例

### 1. 基本的な辞書の作成と操作

このコードを入力して実行してみましょう:

```python
# 辞書の作成
d = {'x': 10, 'y': 15}

# 辞書の表示
print(d)

# キーを使って値にアクセス
print(d['x'])

# 値の変更
d['x'] = 100
print(d['x'])

# 新しいキーと値のペアの追加
d['aaa'] = 200
print(d['aaa'])

# 数字をキーとして使用
d[1] = 1000
print(d[1])

# dict()関数を使った辞書の作成
print(dict(a=10, b=20))
```

**実行結果:**
```
{'x': 10, 'y': 15}
10
100
200
1000
{'a': 10, 'b': 20}
```

**解説:**
- 辞書は波括弧 `{}` で囲み、`キー: 値` の形式で記述します
- キーを指定して値にアクセスできます（`d['x']`）
- 既存のキーに新しい値を代入すると値が更新されます
- 存在しないキーに値を代入すると、新しいキーと値のペアが追加されます
- キーには文字列だけでなく数値なども使えます
- `dict()` 関数を使って辞書を作成することもできます

### 2. 辞書のメソッドを使った操作

このコードを入力して実行してみましょう:

```python
d = {'x': 10, 'y': 15}

# キーの一覧を取得
print(d.keys())

# 値の一覧を取得
print(d.values())

# 辞書の更新
d2 = {'x': 1000, 'y': 200, 'j': 200}
d.update(d2)
# update()メソッドは同じキーの値を更新し、新しいキーを追加します
print(d)

# 値の取り出し方
print(d.get('x'))

# 存在しないキーを指定した場合はNoneが返る
print(d.get('z'))

# 直接アクセスすると存在しないキーではエラーになる
# print(d['z'])  # KeyError: 'z'
```

**実行結果:**
```
dict_keys(['x', 'y'])
dict_values([10, 15])
{'x': 1000, 'y': 200, 'j': 200}
1000
None
```

**解説:**
- `keys()` メソッドでキーの一覧を取得できます
- `values()` メソッドで値の一覧を取得できます
- `update()` メソッドで辞書を別の辞書で更新できます（同じキーは上書き、新しいキーは追加）
- `get()` メソッドでキーに対応する値を安全に取得できます
- 存在しないキーに対して `get()` を使うと `None` が返りますが、直接アクセス（`d['z']`）するとエラーになります

### 3. 辞書からの要素の削除

このコードを入力して実行してみましょう:

```python
d = {'x': 10, 'y': 15, 'aaa': 200, 1: 1000}

# pop()メソッドでキーと値のペアを削除し、値を返す
d.pop('x')
print(d)

# del文を使った削除
del d['y']
print(d)

# 辞書の中身をすべて削除
d.clear()
print(d)
```

**実行結果:**
```
{'y': 15, 'aaa': 200, 1: 1000}
{'aaa': 200, 1: 1000}
{}
```

**解説:**
- `pop()` メソッドを使うと、指定したキーとその値を削除し、値を返します
- `del` 文を使ってキーと値のペアを削除することもできます
- `clear()` メソッドで辞書の中身をすべて削除できます

### 4. キーの存在確認と参照の理解

このコードを入力して実行してみましょう:

```python
d = {'x': 10, 'y': 15}

# キーの存在確認
print('x' in d)

# 辞書も参照渡しになる
x = {'a': 1}
y = x
y['a'] = 1000
print(x)
print(y)

# copy()メソッドで参照渡しを回避
x = {'a': 1}
y = x.copy()
y['a'] = 1000
print(x)
print(y)
```

**実行結果:**
```
True
{'a': 1000}
{'a': 1000}
{'a': 1}
{'a': 1000}
```

**解説:**
- `in` 演算子を使ってキーが辞書に存在するかを確認できます
- 辞書もリストと同様に参照渡しになります
- 変数に辞書を代入すると、同じオブジェクトへの参照が作られます
- 一方の変数で辞書を変更すると、もう一方の変数からも変更が見えます
- 参照渡しを避けるには `copy()` メソッドを使って辞書のコピーを作成します
