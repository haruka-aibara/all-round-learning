# Grafana パネルガイド

Grafanaのダッシュボードは、複数のパネルで構成されています。各パネルは、データの可視化と監視のための独立したコンポーネントです。このガイドでは、パネルの種類と設定方法について説明します。

## パネルの基本

### パネルの種類

1. **Time series（時系列）**
   - 時系列データの表示に最適
   - 折れ線グラフ、棒グラフ、エリアグラフなど
   - メトリクスの傾向分析に使用

2. **Gauge（ゲージ）**
   - 単一の値を表示
   - 目標値やしきい値の設定が可能
   - CPU使用率やメモリ使用率の表示に適している

3. **Stat（統計）**
   - 単一の値や統計情報を表示
   - 前回値との比較が可能
   - 重要な指標の表示に使用

4. **Table（テーブル）**
   - データを表形式で表示
   - ソートやフィルタリングが可能
   - 詳細なデータの表示に適している

5. **Bar gauge（バーゲージ）**
   - 水平または垂直のバーで値を表示
   - 複数の値を比較するのに適している
   - リソース使用率の表示に使用

## パネルの設定

### 基本設定

1. **タイトルと説明**
   - パネルのタイトル
   - 説明文の追加
   - リンクの設定

2. **クエリの設定**
   ```promql
   # Prometheusの例
   node_memory_MemTotal_bytes
   
   # 複数のクエリ
   A: node_memory_MemTotal_bytes
   B: node_memory_MemFree_bytes
   ```

3. **可視化の設定**
   - グラフの種類
   - 色の設定
   - 凡例の表示

### 高度な設定

1. **変換（Transformations）**
   - データの結合
   - フィルタリング
   - 計算の追加

2. **フィールドの設定**
   - 単位の設定
   - 小数点以下の桁数
   - 表示形式

3. **オーバーライド**
   - 特定の条件での表示設定
   - 色の変更
   - しきい値の設定

## パネルの配置

### レイアウト

1. **グリッドレイアウト**
   - パネルのサイズ調整
   - 位置の調整
   - 整列

2. **レスポンシブデザイン**
   - 画面サイズに応じた調整
   - モバイル表示の最適化

### パネルのグループ化

1. **行の使用**
   - 関連するパネルのグループ化
   - 折りたたみ可能な行
   - 条件付き表示

2. **タブの使用**
   - 複数のパネルをタブで管理
   - スペースの効率的な使用

## よく使うパネル設定

### CPU使用率の表示

```yaml
# パネル設定
Type: Time series
Query: 100 - (avg by (instance) (irate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)
Unit: percent
Min: 0
Max: 100
```

### メモリ使用率の表示

```yaml
# パネル設定
Type: Gauge
Query: (node_memory_MemTotal_bytes - node_memory_MemFree_bytes) / node_memory_MemTotal_bytes * 100
Unit: percent
Thresholds:
  - 70 (warning)
  - 90 (critical)
```

### ディスク使用率の表示

```yaml
# パネル設定
Type: Bar gauge
Query: (node_filesystem_size_bytes - node_filesystem_free_bytes) / node_filesystem_size_bytes * 100
Unit: percent
Orientation: horizontal
```

## パネルの共有と再利用

### パネルのコピー

1. **同一ダッシュボード内**
   - パネルの複製
   - 設定の継承

2. **異なるダッシュボード間**
   - パネルのエクスポート
   - パネルのインポート

### パネルのテンプレート

1. **テンプレートの作成**
   - よく使う設定の保存
   - 再利用可能なパネル

2. **テンプレートの使用**
   - 既存のテンプレートの適用
   - カスタマイズ

## 注意事項

- パネルの数が多すぎると、パフォーマンスに影響を与える可能性があります
- 適切な更新間隔を設定してください
- データソースの設定を確認してください
- より詳細な設定や使用方法については、[公式ドキュメント](https://grafana.com/docs/grafana/latest/panels/)を参照してください 
